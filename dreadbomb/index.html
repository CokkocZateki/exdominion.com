<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="apple-touch-icon" sizes="57x57" href="https://imageserver.eveonline.com/Corporation/98427311_64.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://imageserver.eveonline.com/Corporation/98427311_64.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://imageserver.eveonline.com/Corporation/98427311_128.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://imageserver.eveonline.com/Corporation/98427311_128.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://imageserver.eveonline.com/Corporation/98427311_128.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://imageserver.eveonline.com/Corporation/98427311_128.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://imageserver.eveonline.com/Corporation/98427311_256.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://imageserver.eveonline.com/Corporation/98427311_256.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://imageserver.eveonline.com/Corporation/98427311_256.png">
    <link rel="icon" type="image/png" sizes="192x192" href="https://imageserver.eveonline.com/Corporation/98427311_256.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://imageserver.eveonline.com/Corporation/98427311_256.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https://imageserver.eveonline.com/Corporation/98427311_256.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://imageserver.eveonline.com/Corporation/98427311_256.png">
    <link rel="manifest" href="/img/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="https://imageserver.eveonline.com/Corporation/98427311_256.png">
    <meta name="theme-color" content="#ffffff">

    <title>DREADBOMB - ExDominion</title>

    <!-- Bootstrap Core CSS -->
    <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">


    <!-- Plugin CSS -->
    <link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/vendor/simple-line-icons/css/simple-line-icons.css">
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.css" />

    <!-- Theme CSS -->
    <link href="/css/new-age.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->


    <style>
        html {
            overflow: hidden;
        }

        body {
            background-color:black;
            font-family: "Arial Black", Gadget, sans-serif;
            text-align: center;
            color: white;
            text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000;
            font-size: 35px;
            font-weight: bold;
            background-size:cover;
            background-repeat: no-repeat;
        }

        .ship {
            background-size: contain;
            background-repeat: no-repeat;
            width: 256px;
            height: 256px;
            position: absolute;
        }
            .ship.retriever {
                background-image: url(https://imageserver.eveonline.com/Render/17478_512.png);
            }
    </style>

    <script>
        (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-69129860-3', 'auto');
        ga('send', 'pageview');

    </script>
</head>

<body>
    <div id="space" style="width:100%; height:100%;"></div>
    <div class="totalCount"></div>
    <a class="addMore">ADD MORE</a>
    <audio id="music"></audio>

    <!-- jQuery -->
    <script src="/vendor/jquery/jquery.min.js"></script>
    <script src="js/ship.js"></script>
    <script src="../vendor/sprintf/sprintf.min.js"></script>
    <script>
        // MAIN STORY BOARD
        /*
        1. Spawn mining ship
        2. move mining ship to middle
        3. active mining laser
        4. active cyno
        5. spawn dreads/start music/dance dreads
        
        */

        // INIT
        var $background = $('#space');

        var newShip = new Ship('https://imageserver.eveonline.com/Render/17478_512.png', 512, 512, 0.1, 1);
        $(newShip.SpawnRandom()).appendTo($background);
        // 1. Spawn mining ship
        





        function spawnMiner($background) {
            var $ship = $("<div class='ship retriever'></div>").appendTo($background);
            var topPosition = ($background.height() / 2) + (-$ship.height() / 2)  ;

            $ship.css({
                'top': topPosition + 'px',
                'left': '100%'
            });


            $ship.animate({
                left: '50%'
            }, 5000);

            return ($ship);
        }
    </script>



















    <script>
        $(function () {

            var minSize = 0.3;
            var maxSize = 1;
            var $bg = $('#space');

            var startCount = 50;

            // No delay spawn
            /*
            for (i = 0; i < startCount; i++) {
                spawnDread(minSize, maxSize);
            }
            */

   
            // Delayed Spawn
            (function loop(i) {
                setTimeout(function () {
                  //  spawnDread(minSize, maxSize)
                    if (--i) loop(i); // iteration counter
                }, 100) // delay
            })(50); // iterations count 






            function spawnDread(minSize, maxSize) {
                var dreads = ['https://imageserver.eveonline.com/Render/19722_512.png',
                    'https://imageserver.eveonline.com/Render/19720_512.png',
                    'https://imageserver.eveonline.com/Render/19724_512.png',
                    'https://imageserver.eveonline.com/Render/19726_512.png'];

                var dreadImage = dreads[ranIntInRange(0,dreads.length - 1)];
                var $dread = $("<div class='ship'></div>").appendTo($bg);

                var size = ranFloatInRange(minSize, maxSize);
                var topPosition = ranIntInRange(-($dread.height() / 2), $bg.height() - ($dread.height() / 2));
                var leftPosition = ranIntInRange(-($dread.width() / 2), $bg.width() - ($dread.width() / 2));

                $dread.css({
                    'background-image': 'url(' + dreadImage + ')',
                    '-webkit-transform': 'scale(' + size + ')',
                    '-moz-transform': 'scale(' + size + ')',
                    '-ms-transform': 'scale(' + size + ')',
                    '-o-transform': 'scale(' + size + ')',
                    'transform': 'scale(' + size + ')',
                    'z-index': Math.floor(size*100),
                    'top': topPosition + 'px',
                    'left': leftPosition + 'px'
                });

                /*
                $dread.animate({
                    left: -$bg.width(),
                }, speed, function () {
                    $ship.remove();
                    generateShip(shipClass, false);
                });*/
            }

            function ranFloatInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            function ranIntInRange(min, max) {
                return Math.floor(Math.random() * (max - min + 1) + min);
            }
        });
    </script>
</body>

</html>
